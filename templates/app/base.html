{% load static %} {% load i18n %}
<!DOCTYPE html>
<html>
  <head>
    <title>Algorka</title>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH"
      crossorigin="anonymous" />
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css" />
    <style>
      body {
        min-height: 100vh;
        margin: 0;
        display: grid;
        grid-template-rows: auto 1fr auto;
      }
      header {
        min-height: 60px;
      }
      .messages {
        position: fixed;
        /* After header */
        top: 60px;
        right: 0;
        z-index: 1000;
        width: 100%;
      }
    </style>
  </head>
  <body>
    <!-- prettier-ignore -->
    {% include 'app/navbar.html' %}
    <!-- Message range -->
    <div class="mt-3 messages text-center">
      {% for message in messages %}
      <!-- Prettier-ignore -->
      {% if message.level == DEFAULT_MESSAGE_LEVELS.ERROR %}
      <div
        class="alert alert-danger alert-dismissible fade show d-flex align-items-center justify-content-center"
        role="alert">
        <i class="bi bi-exclamation-triangle-fill me-2"></i>
        <span>{{ message }}</span>
        <button
          type="button"
          class="btn-close"
          data-bs-dismiss="alert"
          aria-label="Close"></button>
      </div>
      {% elif message.level == DEFAULT_MESSAGE_LEVELS.WARNING %}
      <div
        class="alert alert-warning alert-dismissible fade show d-flex align-items-center justify-content-center"
        role="alert">
        <i class="bi bi-exclamation-circle-fill me-2"></i>
        <span>{{ message }}</span>
        <button
          type="button"
          class="btn-close"
          data-bs-dismiss="alert"
          aria-label="Close"></button>
      </div>
      {% elif message.level == DEFAULT_MESSAGE_LEVELS.INFO %}
      <div
        class="alert alert-info alert-dismissible fade show d-flex align-items-center justify-content-center"
        role="alert">
        <i class="bi bi-info-circle-fill me-2"></i>
        <span>{{ message }}</span>
        <button
          type="button"
          class="btn-close"
          data-bs-dismiss="alert"
          aria-label="Close"></button>
      </div>
      {% elif message.level == DEFAULT_MESSAGE_LEVELS.SUCCESS %}
      <div
        class="alert alert-success alert-dismissible fade show d-flex align-items-center justify-content-center"
        role="alert">
        <i class="bi bi-check-circle-fill me-2"></i>
        <span>{{ message }}</span>
        <button
          type="button"
          class="btn-close"
          data-bs-dismiss="alert"
          aria-label="Close"></button>
      </div>
      {% endif %} {% endfor %}
    </div>

    {% block content %}{% endblock %} {% include 'app/footer.html' %}
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz"
      crossorigin="anonymous"></script>
    <script>
      function updateScreenSize() {
        // Calculate the effective screen size
        const width = window.innerWidth;
        const height = window.innerHeight;

        // Display the dimensions
        document.getElementById(
          "size"
        ).textContent = `Width: ${width}px, Height: ${height}px`;
      }

      // Initial size update
      updateScreenSize();

      // Update on resize and zoom events
      window.addEventListener("resize", updateScreenSize);
      // Remove message after 3 seconds
      setTimeout(() => {
        document.querySelectorAll(".alert").forEach((alert) => {
          alert.remove();
        });
      }, 3000);
    </script>
  </body>
</html>
